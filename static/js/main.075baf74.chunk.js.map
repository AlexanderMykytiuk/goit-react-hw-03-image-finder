{"version":3,"sources":["Component/ImageGalleryItem/ImageGalleryItem.module.css","Component/Button/Button.module.css","Component/Modal/Modal.module.css","Component/Loader/Loader.module.css","Component/ImageGallery/ImageGallery.module.css","Component/Container/Container.module.css","Component/ImageGalleryItem/ImageGalleryItem.jsx","Component/Searchbar/Searchbar.jsx","services/newsApi.js","Component/Button/Button.jsx","Component/Modal/Modal.jsx","Component/Loader/Loader.jsx","Component/ImageGallery/ImageGallery.jsx","Component/Container/Container.jsx","App.js","index.js","Component/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","img","alt","onClick","className","styles","src","ImageGalleryItemImage","defaultProps","Searchbar","state","query","handleChangeInput","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmitForm","SearchForm","onSubmit","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","serchQuery","currentPage","per_page","axios","get","then","obj","data","Button","ButtonContainer","Modal","handleKeyDown","code","onClose","handleBackdrop","event","target","window","addEventListener","removeEventListener","Overlay","children","LoaderComponent","Loader","color","height","width","ImageGallery","hits","isLoading","error","largeImageURL","largeImageALT","scroll","onChangeQuery","showModal","toggleModal","url","prevState","largeImage","fetchHits","options","hitsApi","catch","finally","prevProps","shouldrenderLoadMore","length","map","webformatURL","tags","id","scrollTo","top","document","documentElement","scrollHeight","behavior","Container","container","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.075baf74.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2ZkfM\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__Uu54P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ButtonContainer\":\"Button_ButtonContainer__3DEJ0\",\"Button\":\"Button_Button__1UIy7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3pDq2\",\"Modal\":\"Modal_Modal__1bpl3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__1AqYl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1EnfM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3mQZM\"};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ img, alt, onClick }) => {\r\n  return (\r\n    <li className={styles.ImageGalleryItem} onClick={onClick}>\r\n      <img src={img} alt={alt} className={styles.ImageGalleryItemImage} />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.defaultProps = {\r\n  img:\r\n    'https://static.wikia.nocookie.net/one-piece-fan-dnd/images/8/82/No-image-available-icon-flat-vector-no-image-available-icon-flat-vector-illustration-132482953.jpg/revision/latest?cb=20201007034238',\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n  img: PropTypes.string,\r\n  alt: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React, {Component} from 'react';\r\nimport styles from './Searchbar.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleChangeInput = e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmitForm(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.query}\r\n            onChange={this.handleChangeInput}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmitForm: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;","import axios from 'axios';\r\n\r\nconst fetchHits = ({ serchQuery = '', currentPage = 1, per_page = 12 }) => {\r\n  return axios.get(\r\n    `https://pixabay.com/api/?key=20696463-7a82ec59bccfda41846317622&q=${serchQuery}&image_type=photo&per_page=${per_page}&page=${currentPage}&orientation=horizontal`,\r\n  )\r\n    .then((obj) => obj.data);\r\n};\r\n\r\nexport default { fetchHits };","import React from 'react';\r\nimport styles from './Button.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <div className={styles.ButtonContainer}>\r\n      <button type=\"button\" onClick={onClick} className={styles.Button}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import React, { Component } from \"react\";\r\nimport styles from \"./Modal.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    // console.log('Modal componentDidMount');\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  // метод для очистки\r\n  componentWillUnmount() {\r\n    // console.log('Modal componentWillUnmount');\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdrop = (event) => {\r\n    // всплытие событий\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.Overlay} onClick={this.handleBackdrop}>\r\n        <div className={styles.Modal}>{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport Loader from 'react-loader-spinner';\r\nimport styles from './Loader.module.css';\r\n\r\nconst LoaderComponent = () => {\r\n  return (\r\n    <div className={styles.Loader}>\r\n      <Loader type=\"BallTriangle\" color=\"#18ce64\" height={100} width={100} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoaderComponent;","import React, { Component } from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport Searchbar from \"../Searchbar\";\r\nimport hitsApi from \"../../services/newsApi\";\r\nimport Button from \"../Button\";\r\nimport Modal from \"../Modal\";\r\nimport Loader from \"../Loader\";\r\n\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    hits: [],\r\n    currentPage: 1,\r\n    serchQuery: \"\",\r\n    isLoading: false,\r\n    error: null,\r\n    largeImageURL: \"\",\r\n    largeImageALT: \"\",\r\n    scroll: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.serchQuery !== this.state.serchQuery) {\r\n      this.fetchHits();\r\n    }\r\n  }\r\n\r\n  onChangeQuery = (query) => {\r\n    this.setState({\r\n      serchQuery: query,\r\n      currentPage: 1,\r\n      hits: [],\r\n      error: null,\r\n      showModal: false,\r\n    });\r\n  };\r\n\r\n  toggleModal = (url, alt) => {\r\n    this.setState((prevState) => ({\r\n      showModal: !prevState.showModal,\r\n      largeImage: url,\r\n      largeImageURL: url,\r\n      largeImageALT: alt,\r\n    }));\r\n  };\r\n\r\n  fetchHits = () => {\r\n    const { serchQuery, currentPage } = this.state;\r\n    const options = {\r\n      serchQuery,\r\n      currentPage,\r\n    };\r\n    this.setState({ isLoading: true });\r\n    hitsApi\r\n      .fetchHits(options)\r\n      .then((data) => {\r\n        // console.log(data.hits);\r\n        this.setState((prevState) => ({\r\n          hits: [...prevState.hits, ...data.hits],\r\n          currentPage: prevState.currentPage + 1,\r\n          scroll: true,\r\n        }));\r\n      })\r\n      .catch((error) => this.setState({ error }))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  render() {\r\n    const { hits, isLoading, error, scroll, showModal } = this.state;\r\n    const shouldrenderLoadMore = hits.length > 0 && !isLoading;\r\n    return (\r\n      <>\r\n        <Searchbar onSubmitForm={this.onChangeQuery} />\r\n        {error && <h1>Error</h1>}\r\n\r\n        {showModal && (\r\n          <Modal onClose={this.toggleModal}>\r\n            <img\r\n              src={this.state.largeImageURL}\r\n              alt={this.state.largeImageALT}\r\n            />\r\n          </Modal>\r\n        )}\r\n        <ul className={styles.ImageGallery}>\r\n          {hits.map(({webformatURL, tags, id, largeImageURL}) => (\r\n            <ImageGalleryItem\r\n              img={webformatURL}\r\n              alt={tags}\r\n              key={id}\r\n              onClick={() => this.toggleModal(largeImageURL, tags)}\r\n            />\r\n          ))}\r\n        </ul>\r\n        {scroll &&\r\n          window.scrollTo({\r\n            top: document.documentElement.scrollHeight,\r\n            behavior: \"smooth\",\r\n          })}\r\n        {isLoading && <Loader />}\r\n        {shouldrenderLoadMore && <Button onClick={this.fetchHits} />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport styles from './Container.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Container = ({ children }) => (\r\n  <div className={styles.container}>{children}</div>\r\n);\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default Container;","import React from 'react';\nimport ImageGallery from './Component/ImageGallery';\nimport Container from './Component/Container';\n\nfunction App() {\n  return (\n    <Container>\n      <ImageGallery />\n    </Container>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2QFe2\",\"SearchForm\":\"Searchbar_SearchForm__BuQ-X\",\"SearchFormButton\":\"Searchbar_SearchFormButton__37jYz\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__345XO\",\"SearchFormInput\":\"Searchbar_SearchFormInput__fG4Hw\"};"],"sourceRoot":""}